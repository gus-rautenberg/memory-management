#include "LRU.h"
#include "OPT.h"
#include "referenceString.h"
#include <iostream>
#include <vector>

using namespace std;

int main(int argc, char const *argv[])
{
    // for (size_t i = 1; i <= 4; i++) {
        // vector<string> log = getLog(to_string(1));
        // vector<string> log = getLog(to_string(i));
        // vector<int> reference_string = generateReferenceString(log);

        vector<int> reference_string = {3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342, 3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342, 3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342, 3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342, 3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342, 3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342, 3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342, 3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342, 3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342, 3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342, 3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342, 3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342,3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342 ,3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342 ,3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342 ,3, 2, 1, 3, 2, 1, 21, 3,32, 21, 32, 32,12 , 21, 345,24, 421, 214, 5325, 24 , 342};

        // for (int j = 4; j <= 16; j *= 2) {
        cout << reference_string.size() << endl;
        // cout << "LRU Misses: " << lruAlgorithm(reference_string, 4) << endl;
        // cout << "LRU Misses: " << lruAlgorithm(reference_string, j);
        OPT memory(4);
        // OPT memory(j);
        cout << "OPT Misses: " << memory.count_misses(reference_string) << endl;
        // }   
    // }
    return 0;
}
